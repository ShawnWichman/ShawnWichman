!function(e){var t={};function s(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=412)}({1:function(e,t,s){"use strict";var n,o,i,r,a;!function(e){e.GetLastState="getLastState",e.OpenApplication="openApplication",e.CopyPassword="copyPassword",e.AutologinCredential="autologinCredential",e.GetCurrentTabInfo="getCurrentTabInfo",e.Support="support",e.Referral="referral",e.Refresh="refresh",e.GetUserMessages="getUserMessages",e.GetWebOnboardingMode="getWebOnboardingMode",e.GetSubscriptionCode="getSubscriptionCode",e.GetLanguage="getLanguage",e.InitialData="initialData",e.GetPasswordGenerationSettings="getPasswordGenerationSettings",e.GetPremiumStatus="getPremiumStatus",e.CloseSession="closeSession",e.SaveState="saveState",e.InstallerLog="installerLog",e.UsageLog="usageLog",e.ReportAutofillIssue="reportAutofillIssue",e.OpenUrl="openUrl",e.Logout="logout",e.Login="login",e.OpenSession="openSession",e.DismissUserMessage="dismissUserMessage",e.SetWebOnboarding="setWebOnboarding",e.FillPassword="fillPassword",e.ChangeDashlaneSettings="changeDashlaneSettings",e.SaveDefaults="saveDefaults",e.GeneratePassword="generatePassword",e.CheckIfMasterPasswordIsValid="checkIfMasterPasswordIsValid",e.CloseSurvey="closeSurvey",e.GetSurveyInfo="getSurveyInfo",e.GetGeneratedPasswords="getGeneratedPasswords"}(n||(n={})),function(e){e.ChangeLangage="changeLangage",e.PopoverSignalDataRefresh="popover_signalDataRefresh",e.PopoverV2SignalDataRefresh="popover_v2_signalDataRefresh",e.LoginsLists="loginsLists",e.RestoreState="restoreState",e.PasswordGenerationSettings="passwordGenerationSettings",e.SubscriptionCodeChanged="subscriptionCodeChanged",e.WebOnboardingModeChanged="webOnboardingModeChanged",e.PremiumStatusChanged="premiumStatusChanged",e.Close="close",e.UserDataChanged="userDataChanged",e.SignalUserMessages="signalUserMessages",e.PopoverV2SignalCurrentTabInfo="popover_v2_signalCurrentTabInfo",e.PopoverSignalPasswordGenerated="popover_signalPasswordGenerated",e.PopoverV2SignalPasswordGenerated="popover_v2_signalPasswordGenerated",e.MasterPasswordChecked="masterPasswordChecked",e.OpenSessionFailed="openSessionFailed",e.OpenSessionOTPSent="openSessionOTPSent",e.OpenSessionTokenSent="openSessionTokenSent",e.OpenSessionOTPForNewDeviceRequired="openSessionOTPForNewDeviceRequired",e.OpenSessionAskMasterPassword="openSessionAskMasterPassword",e.OpenSessionSSO="openSessionSSO",e.LoginStatusChanged="loginStatusChanged",e.SurveyInfoChanged="surveyInfoChanged",e.GeneratedPasswords="generatedPasswords"}(o||(o={})),function(e){e.Domain="domain",e.Page="page"}(i||(i={})),function(e){e.SendLogin="sendEmail",e.SendPassword="sendPassword",e.SendToken="sendToken",e.SendOTPForNewDevice="sendOTPForNewDevice",e.SendOTP2="sendOTP2",e.ResendToken="resendToken"}(r||(r={})),function(e){e.Email="email",e.OTP2="OTP2",e.Welcome="welcome",e.OTP1="OTP1",e.OTPToken="token",e.Password="password",e.SSO="SSO"}(a||(a={})),s.d(t,"e",function(){return n}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"d",function(){return r}),s.d(t,"c",function(){return a})},113:function(e,t){
// distribute, sublicense, and/or sell copies of the Software, and to permit
function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,s,r,a,d,g;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i(s=this._events[e]))return!1;if(n(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),s.apply(this,a)}else if(o(s))for(a=Array.prototype.slice.call(arguments,1),r=(g=s.slice()).length,d=0;d<r;d++)g[d].apply(this,a);return!0},s.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=i(this._maxListeners)?s.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var s=!1;function o(){this.removeListener(e,o),s||(s=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},s.prototype.removeListener=function(e,t){var s,i,r,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(s=this._events[e]).length,i=-1,s===t||n(s.listener)&&s.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(s)){for(a=r;a-- >0;)if(s[a]===t||s[a].listener&&s[a].listener===t){i=a;break}if(i<0)return this;1===s.length?(s.length=0,delete this._events[e]):s.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(s=this._events[e]))this.removeListener(e,s);else if(s)for(;s.length;)this.removeListener(e,s[s.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},s.listenerCount=function(e,t){return e.listenerCount(t)}},14:function(e,t,s){"use strict";var n;s.d(t,"a",function(){return n}),s.d(t,"b",function(){return o}),function(e){e.POPUP_LAUNCH="POPUP_LAUNCH",e.BUNDLE_LOADED="BUNDLE_LOADED",e.BUNDLE_AVAILABLE="BUNDLE_AVAILABLE",e.POPUP_INITIALISED="POPUP_INITIALISED",e.LOGIN_CLICK="LOGIN_CLICK",e.INITIAL_DATA_REQUEST="INITIAL_DATA_REQUEST",e.CREDENTIALS_RECEIVED="CREDENTIALS_RECEIVED",e.CREDENTIALS_RECEIVED_AND_PARSED="CREDENTIALS_RECEIVED_AND_PARSED"}(n||(n={}));const o={mark:()=>{},measure:()=>{},saveMeasurements:()=>{}}},19:function(e,t,s){"use strict";s(192);const n=e=>{let t=null;try{t=JSON.parse(e)}catch(e){console.error("Popup received a message in an invalid format (not a valid JSON).")}return t};class o{constructor(e){this.port=chrome.runtime.connect({name:"popup"}),this.port.onMessage.addListener(t=>{const s=n(t);s&&e.onMessage(s)})}sendMessage(e){this.port.postMessage(e)}}class i{constructor(e){window.sendMessageFromGlobalPageToPopover=t=>{const s=n(t);s&&e.onMessage(s)}}sendMessage(e){safari.extension.globalPage.contentWindow.KWController.sendMessageFromPopoverToGlobalPage(e)}}class r{constructor({onMessage:e}){window.sendMessageFromGlobalPageToPopover=t=>{e(t)}}sendMessage(e){window.webkit.messageHandlers.dashlaneEvent.postMessage(e)}}const a=e=>{if(window.chrome&&chrome.runtime)return new o(e);if(window.safari&&safari.extension)return new i(e);if(window.isSafariAppExtension)return new r(e);throw new Error("Communication bridge is not implemented for this browser")};var d=s(1);d.b.PopoverV2SignalCurrentTabInfo,d.b.PopoverV2SignalCurrentTabInfo,d.b.PopoverV2SignalPasswordGenerated,d.b.PopoverV2SignalPasswordGenerated,d.b.PopoverV2SignalDataRefresh,d.b.PopoverV2SignalDataRefresh;var g=s(113);class l{constructor(){this.nativeEventEmitter=new g.EventEmitter,this.on=(e,t)=>{this.nativeEventEmitter.on(e,t)},this.once=(e,t)=>{this.nativeEventEmitter.once(e,t)}}emit(e,t){this.nativeEventEmitter.emit(e,t)}}function u(e){return!0===e||"true"===e}function h(e){const t=parseInt(e,10);return Number.isNaN(t)?-1:t}t.a=new class{constructor(){this.eventEmitter=new l,this.onMessage=e=>{const t=e.action||e.type;this.eventEmitter.emit(t,e)},this.bridge=a({onMessage:this.onMessage})}openApplication(e){this.sendMessage(d.e.OpenApplication,{link:e})}onClose(e){this.eventEmitter.on(d.b.Close,()=>e())}onGeneratePassword(e){const t=t=>{e({password:t.data.password,strength:parseInt(t.data.strength)})};this.eventEmitter.on(d.b.PopoverSignalPasswordGenerated,t),this.eventEmitter.on(d.b.PopoverV2SignalPasswordGenerated,t)}onGetPasswordGenerationSettings(e){this.eventEmitter.on(d.b.PasswordGenerationSettings,t=>{e({length:t.data.length,digits:t.data.digits,letters:t.data.letters,symbols:t.data.symbols,avoidAmbiguous:t.data.avoidAmbiguous})})}onReceiveInitialData(e){const t=t=>{const s=function(e){const t=(e.objects?e.objects.authCategories:e.authCategories)||[],s=(e.objects?e.objects.AUTHENTICATION:e.authentifiants)||[];return{isStandalone:e.isStandalone,accountFeatures:e.accountFeatures,authCategories:t,authentifiants:s.map(e=>({Authentifiants:e.Authentifiants.map(e=>({AnonId:e.AnonId,AutoLogin:u(e.AutoLogin),AutoProtected:u(e.AutoProtected),Category:e.Category,Checked:u(e.Checked),CreationDatetime:h(e.CreationDatetime),Email:e.Email,Id:e.Id,LastBackupTime:h(e.LastBackupTime),LocaleFormat:e.LocaleFormat,Login:e.Login,LastUse:h(e.LastUse),ModificationDatetime:h(e.ModificationDatetime),Note:e.Note,Password:e.Password,PasswordIndex:h(e.PasswordIndex),SecondaryLogin:e.SecondaryLogin,SpaceId:e.SpaceId,Status:e.Status,Strength:h(e.Strength),SubdomainOnly:u(e.SubdomainOnly),Title:e.Title,TrustedUrlGroup:e.TrustedUrlGroup,Url:e.Url,UserSelectedUrl:e.UserSelectedUrl,UseFixedUrl:u(e.UseFixedUrl),domainIcon:e.domainIcon||{},limitedPermissions:e.limitedPermissions})),Domain:e.Domain})),generatePassword:u(e.generatePassword),generator:{length:h(void 0!==e.generator.length?e.generator.length:e.generator.size),digits:u(e.generator.digits),letters:u(e.generator.letters),symbols:u(e.generator.symbols),avoidAmbiguous:u(void 0!==e.generator.avoidAmbiguous?e.generator.avoidAmbiguous:e.generator.avoidambiguous)},gettingStarted:u(e.gettingStarted),server:e.server,settings:e.settings,sorting:e.sorting,spaces:e.spaces||[],websites:e.websites||[]}}(t.data);e(s)};this.eventEmitter.on(d.b.PopoverSignalDataRefresh,t),this.eventEmitter.on(d.b.PopoverV2SignalDataRefresh,t)}onReceiveUserMessages(e){this.eventEmitter.on(d.b.SignalUserMessages,t=>{e(t.data)})}onRefreshLogins(e){this.eventEmitter.on(d.b.LoginsLists,t=>{e({logins:t.logins,userLoggedIn:t.userLoggedIn,userLogin:t.userLogin,localAccountsList:t.localAccountsList,currentLoginStep:t.currentLoginStep})})}onPremiumStatusChanged(e){this.eventEmitter.on(d.b.PremiumStatusChanged,t=>e(t.premiumStatus))}onCurrentTabInfo(e){this.eventEmitter.on(d.b.PopoverV2SignalCurrentTabInfo,t=>{e(t.data)})}onSurveyInfoChanged(e){this.eventEmitter.on(d.b.SurveyInfoChanged,t=>e(t.data))}autoLoginCredential(e){this.sendMessage(d.e.AutologinCredential,{identifier:e})}copyPassword(e){this.sendMessage(d.e.CopyPassword,{password:e})}getPremiumStatus(){this.sendMessage(d.e.GetPremiumStatus)}closeSession(){this.sendMessage(d.e.CloseSession)}changeDashlaneSettings(e,t){this.sendMessage(d.e.ChangeDashlaneSettings,{type:e,settings:t})}fillPassword(e){this.sendMessage(d.e.FillPassword,{password:e})}generatePassword(e){this.sendMessage(d.e.GeneratePassword,e)}getPasswordGenerationSettings(e){e&&this.onGetPasswordGenerationSettings(e),this.sendMessage(d.e.GetPasswordGenerationSettings)}getInitialData(e){e&&this.onReceiveInitialData(e),this.sendMessage(d.e.InitialData)}getSubscriptionCode(e){this.eventEmitter.on(d.b.SubscriptionCodeChanged,t=>{e&&e(t.data)}),this.sendMessage(d.e.GetSubscriptionCode)}getWebOnboardingMode(e){e&&(this.eventEmitter.on(d.b.WebOnboardingModeChanged,t=>{e(t.data)}),this.sendMessage(d.e.GetWebOnboardingMode))}setWebOnboarding(e){this.sendMessage(d.e.SetWebOnboarding,{popoverStep:e||null})}getUserMessages(e){e&&this.onReceiveUserMessages(e),this.sendMessage(d.e.GetUserMessages)}getLanguage(){return new Promise(e=>{this.eventEmitter.once(d.b.ChangeLangage,({lang:t})=>e(t)),this.sendMessage(d.e.GetLanguage)})}getLastState(e){this.eventEmitter.once(d.b.RestoreState,({data:t})=>{e(t)}),this.sendMessage(d.e.GetLastState)}dismissUserMessage(e){this.sendMessage(d.e.DismissUserMessage,{type:e})}refreshLogins(e){e&&this.onRefreshLogins(e),this.sendMessage(d.e.Refresh)}getShouldDisplaySurvey(){this.sendMessage(d.e.GetSurveyInfo)}closeSurvey(){this.sendMessage(d.e.CloseSurvey)}openSession(e){this.sendMessage(d.e.OpenSession,e)}openSessionFailed(e){this.eventEmitter.on(d.b.OpenSessionFailed,t=>{e(t.data)})}openSessionOTPSent(e){this.eventEmitter.on(d.b.OpenSessionOTPSent,t=>{e(t.data)})}openSessionOTPForNewDeviceSent(e){this.eventEmitter.on(d.b.OpenSessionOTPForNewDeviceRequired,()=>{e()})}openSessionTokenSent(e){this.eventEmitter.on(d.b.OpenSessionTokenSent,t=>{e(t.data)})}openSessionAskMasterPassword(e){this.eventEmitter.on(d.b.OpenSessionAskMasterPassword,t=>{e(t.data)})}loginStatusChanged(e){this.eventEmitter.on(d.b.LoginStatusChanged,t=>{e(t.data)})}login(){this.sendMessage(d.e.Login)}logout(){this.sendMessage(d.e.Logout)}openCredential({link:e,subPath:t}){this.sendMessage(d.e.OpenApplication,{link:e,subPath:t})}openUrl(e){this.sendMessage(d.e.OpenUrl,{url:e})}reportAutoFillIssue(e,t,s=!1){this.sendMessage(d.e.ReportAutofillIssue,{type:e,description:t,detailed:s})}sendUsageLog(e){this.sendMessage(d.e.UsageLog,{logType:e.type,logAction:e.action,logDetails:{website:"website"in e?e.website:void 0}})}sendInstallerLog(e,t){this.sendMessage(d.e.InstallerLog,{step:e,precisions:t})}saveDefaults(e){this.sendMessage(d.e.SaveDefaults,e)}saveState(e,t){this.sendMessage(d.e.SaveState,{key:e,data:t})}openReferralLink(){this.sendMessage(d.e.Referral)}openSupportLink(){this.sendMessage(d.e.Support)}getCurrentTabInfo(){this.sendMessage(d.e.GetCurrentTabInfo)}formatMessage(e,t){return t?Object.assign(Object.assign({},t),{action:e}):{action:e}}sendMessage(e,t){const s=this.formatMessage(e,t);this.bridge.sendMessage(s)}}},192:function(e,t,s){"use strict";"undefined"!=typeof msBrowser&&(window.chrome=msBrowser),"undefined"!=typeof browser&&(window.chrome=browser)},412:function(e,t,s){e.exports=s(413)},413:function(e,t,s){"use strict";s.r(t);var n=s(14),o=s(19);n.b.mark(n.a.POPUP_LAUNCH),window.addEventListener("display-app",function e(){const t=document.getElementById("skeleton-loader"),s=document.getElementById("login-loader"),o=document.getElementById("app"),i=document.getElementById("container");o&&t&&i&&s&&(o.classList.add("shown"),o.classList.remove("hidden"),t.classList.add("hidden"),t.classList.remove("shown"),s.classList.add("hidden"),s.classList.remove("shown"),n.b.measure("Showing native HTML loading state",n.a.POPUP_LAUNCH),window.removeEventListener("display-app",e))}),window.addEventListener("load",function e(){setTimeout(function(){n.b.measure("Artificially waiting for loader to render",n.a.POPUP_LAUNCH);const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="bundle.js",document.getElementsByTagName("body")[0].appendChild(e),n.b.mark(n.a.BUNDLE_AVAILABLE)},100),window.removeEventListener("load",e)}),o.a.refreshLogins(({userLoggedIn:e})=>{const t=document.getElementById("login-loader"),s=document.getElementById("skeleton-loader");e?(t&&t.classList.add("hidden"),s&&s.classList.add("shown")):(t&&t.classList.add("shown"),s&&s.classList.add("hidden"))})}});